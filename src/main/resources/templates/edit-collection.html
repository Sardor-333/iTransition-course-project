<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/head :: head"></head>

<body>
<div class="wrapper">

    <div th:replace="fragments/sidebar :: sidebar"></div>

    <header th:replace="fragments/header :: header"></header>

    <div class="page-wrapper">
        <div class="page-content">

            <h1>Create new collection</h1>

            <div id="response"></div>

            <form id="create-collection-form" th:action="@{'/api/v1/collections/edit/' + ${collection.id}}"
                  method="post" enctype="multipart/form-data">
                <input type="hidden" id="collectionId" th:value="${collection.id}">
                <div class="row">

                    <!-- Collection img -->
                    <img th:src="${collection.imgUrl}" alt="Img" class="rounded mx-auto d-block">

                    <!-- Collection name -->
                    <div class="col">
                        <label for="collectionName" th:text="#{menu.editCollectionName}"></label>
                        <input id="collectionName" name="name" type="text" class="form-control"
                               th:value="${collection.name}">
                    </div>

                    <!-- Collection photo -->
                    <div class="col">
                        <label for="collectionImg" th:if="${collection.imgUrl != null}" th:text="#{menu.uploadNewImg}"></label>
                        <label for="collectionImg" th:if="${collection.imgUrl == null}" th:text="#{menu.uploadImg}"></label>
                        <input name="collectionImg" id="collectionImg" type="file" class="form-control">
                    </div>
                </div>
                <div class="row">

                    <!-- Description -->
                    <div class="col">
                        <label for="collectionDescription" th:text="#{menu.editCollectionDescription}"></label>
                        <textarea name="description" class="form-control" id="collectionDescription" rows="3"
                                  th:text="${collection.description}"></textarea>
                    </div>

                    <!-- Topics -->
                    <div class="col">
                        <label for="topicId" th:text="#{menu.editTopic}"></label>
                        <select id="topicId" name="topicId" class="form-control">
                        </select>
                    </div>
                </div>

                <a class="btn btn-primary" id="submit-form-button" th:text="#{menu.saveCollection}"></a>
            </form>
        </div>
    </div>
</div>

<!-- Theme Customizer -->
<div th:replace="fragments/theme-customizer :: theme-customizer"></div>

<script th:inline="javascript">
    const selectedTopicId = [[${collection.topic.id}]];
</script>
<script th:src="@{/assets/js/custom/lang.js}"></script>
<script th:src="@{/assets/js/custom/edit-collection.js}"></script>
<script th:src="@{/assets/js/bootstrap.bundle.min.js}"></script>
<script th:src="@{/assets/js/jquery.min.js}"></script>
<script th:src="@{/assets/plugins/simplebar/js/simplebar.min.js}"></script>
<script th:src="@{/assets/plugins/metismenu/js/metisMenu.min.js}"></script>
<script th:src="@{/assets/plugins/perfect-scrollbar/js/perfect-scrollbar.js}"></script>
<script th:src="@{/assets/js/app.js}"></script>

<script th:src="@{/webjars/jquery/jquery.min.js}"></script>
<script th:src="@{/webjars/popper.js/umd/popper.min.js}"></script>
<script th:src="@{/webjars/bootstrap/js/bootstrap.min.js}"></script>
</body>

</html>